{
  "version": 3,
  "sources": ["../../helpers/database.ts"],
  "sourcesContent": ["import { Sequelize, QueryTypes } from \"sequelize\"\n\n//import database setting\nimport { config } from '../private/config'\n\n//function run_query for database query action\nexport const run_query = async (query, values) => {\n  try{\n    const sequelize = new Sequelize(`postgres://${config.user}:${config.password}@${config.host}:${config.port}/${config.database}`)\n    await sequelize.authenticate()\n    const data = await sequelize.query(query, {\n      replacements: values,\n      type: QueryTypes.SELECT\n    })\n    await sequelize.close()\n    return data\n  } catch (err) {\n    console.error(err, query, values)\n    throw 'Database query error'\n  }\n}\n\nexport const run_insert = async(query, values) => {\n  try{\n    const sequelize = new Sequelize(`postgres://${config.user}:${config.password}@${config.host}:${config.port}/${config.database}`)\n    await sequelize.authenticate()\n    console.log('Start '+values)\n    const data = await sequelize.query(query, {\n      replacements: values,\n      type: QueryTypes.INSERT\n    })\n    console.log('end')\n    await sequelize.close()\n    return data\n  } catch(error) {\n    console.error(error, query, values)\n    throw 'Database query error'\n  }\n}"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAAsC;AAGtC,oBAAuB;AAGhB,MAAM,YAAY,OAAO,OAAO,WAAW;AAChD,MAAG;AACD,UAAM,YAAY,IAAI,2BAAU,cAAc,qBAAO,QAAQ,qBAAO,YAAY,qBAAO,QAAQ,qBAAO,QAAQ,qBAAO,UAAU;AAC/H,UAAM,UAAU,aAAa;AAC7B,UAAM,OAAO,MAAM,UAAU,MAAM,OAAO;AAAA,MACxC,cAAc;AAAA,MACd,MAAM,4BAAW;AAAA,IACnB,CAAC;AACD,UAAM,UAAU,MAAM;AACtB,WAAO;AAAA,EACT,SAAS,KAAP;AACA,YAAQ,MAAM,KAAK,OAAO,MAAM;AAChC,UAAM;AAAA,EACR;AACF;AAEO,MAAM,aAAa,OAAM,OAAO,WAAW;AAChD,MAAG;AACD,UAAM,YAAY,IAAI,2BAAU,cAAc,qBAAO,QAAQ,qBAAO,YAAY,qBAAO,QAAQ,qBAAO,QAAQ,qBAAO,UAAU;AAC/H,UAAM,UAAU,aAAa;AAC7B,YAAQ,IAAI,WAAS,MAAM;AAC3B,UAAM,OAAO,MAAM,UAAU,MAAM,OAAO;AAAA,MACxC,cAAc;AAAA,MACd,MAAM,4BAAW;AAAA,IACnB,CAAC;AACD,YAAQ,IAAI,KAAK;AACjB,UAAM,UAAU,MAAM;AACtB,WAAO;AAAA,EACT,SAAQ,OAAN;AACA,YAAQ,MAAM,OAAO,OAAO,MAAM;AAClC,UAAM;AAAA,EACR;AACF;",
  "names": []
}
